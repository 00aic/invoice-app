import{d as G,e as te,S as ae,f as Q,a as b,U as oe,h as ie,u as le}from"./StatusBadge-De3xFlG9.js";import{d as H,m as j,u as de,q as ne,s as L,T as Y,c as r,b as g,j as _,a as e,t as a,x as ce,o as c,f as J,g as re,r as u,i as ue,y as _e,k as l,l as ve,F as me,e as pe,p as fe}from"./index-BPVdlHvh.js";import"./api-DsdTllfp.js";const ye={key:0,class:"dialog-mask"},he={key:0,class:"dialog-container"},be={class:"dialog__header"},ge={class:"dialog__header-title"},Ce={class:"dialog__body"},ke={class:"dialog__body-msg"},Ie={class:"dialog__footer"},we=H({__name:"ConfirmationDialog",props:j({title:{default:"Tip"},message:{default:"Are you sure you're ready to do this?"},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:j(["cancel","confirm"],["update:modelValue"]),setup(C,{emit:m}){const n=de(C,"modelValue"),v=m,s=()=>{n.value=!1,v("cancel")},p=()=>{n.value=!1,v("confirm")};return(i,f)=>(c(),ne(Y,{name:"fade"},{default:L(()=>[n.value?(c(),r("div",ye,[_(Y,{name:"slide-up"},{default:L(()=>[n.value?(c(),r("div",he,[e("div",be,[e("div",ge,a(i.title),1)]),e("div",Ce,[ce(i.$slots,"default",{},()=>[e("div",ke,a(i.message),1)],!0)]),e("div",Ie,[e("button",{class:"dialog__footer-cancel",onClick:s},a(i.cancelText),1),e("button",{class:"dialog__footer-confirm",onClick:p},a(i.confirmText),1)])])):g("",!0)]),_:3})])):g("",!0)]),_:3}))}}),z=J(we,[["__scopeId","data-v-f7735071"]]),De={class:"detail"},Ve={class:"header__status"},Ae={class:"container"},Te={class:"basic"},$e={class:"basic__info"},xe={class:"basic__info-id"},Be={class:"basic__info-desc"},Me={class:"basic__address"},Ne={class:"primary"},Pe={class:"primary__date"},Ee={class:"primary__wrapper"},Se={class:"primary__content"},Ue={class:"primary__wrapper"},Re={class:"primary__content"},qe={class:"primary__bill"},Fe={class:"primary__wrapper"},Ge={class:"primary__content"},Qe={class:"primary__bill-address"},je={class:"primary__wrapper"},Le={class:"primary__content"},Ye={class:"items"},ze={class:"table"},He={key:0,class:"head"},Je={class:"body"},Ke={class:"body-name column"},Oe={class:"details"},We={class:"body-quantity"},Xe={class:"body-price"},Ze={class:"body-total column"},es={class:"items__price"},ss={class:"items__price-total"},ts=H({__name:"InvoiceDetails",setup(C){const m=re("(max-width: 767px)"),n=fe(),v=_e(),s=u(),p=()=>{n.push("/")},i=u(!1),f=u(null),K=()=>{var d;(d=f.value)==null||d.resetForm(),i.value=!0},y=u(!1),O=()=>{y.value=!0},W=async()=>{var d;await ie(((d=s.value)==null?void 0:d.id)??""),n.push("/")},X=async d=>{s.value=(await G(d.id??"")).data};ue(async()=>{s.value=(await G(v.params.id)).data});const h=u(!1),Z=async()=>{h.value=!0},ee=async()=>{s.value&&(s.value.status="paid",await le(s.value))};return(d,t)=>{var k,I,w,D,V,A,T,$,x,B,M,N,P,E,S,U,R,q,F;return c(),r("div",De,[e("div",{class:"back",onClick:p},t[3]||(t[3]=[e("div",null,[e("img",{src:te,alt:"Go back"})],-1),e("div",{class:"back__title"},"Go back",-1)])),e("div",Ve,[t[4]||(t[4]=e("div",null,"Status",-1)),_(l(ae),{status:((k=s.value)==null?void 0:k.status)??"draft"},null,8,["status"])]),e("div",{class:"header__button"},[e("button",{class:"header__button-edit",onClick:K},"Edit"),e("button",{class:"header__button-delete",onClick:O},"Delete"),e("button",{class:"header__button-paid",onClick:Z},"Mask as Paid")]),e("div",Ae,[e("div",Te,[e("div",$e,[e("div",xe,[t[5]||(t[5]=e("span",{class:"basic__info-prefix"},"#",-1)),ve(a((I=s.value)==null?void 0:I.id),1)]),e("div",Be,a((w=s.value)==null?void 0:w.description),1)]),e("div",Me,[e("div",null,a((D=s.value)==null?void 0:D.senderAddress.street),1),e("div",null,a((V=s.value)==null?void 0:V.senderAddress.city),1),e("div",null,a((A=s.value)==null?void 0:A.senderAddress.postCode),1),e("div",null,a((T=s.value)==null?void 0:T.senderAddress.country),1)])]),e("div",Ne,[e("div",Pe,[e("div",Ee,[t[6]||(t[6]=e("div",{class:"primary__title"},"Invoice Date",-1)),e("div",Se,a(l(Q)((($=s.value)==null?void 0:$.createdAt)??"")),1)]),e("div",Ue,[t[7]||(t[7]=e("div",{class:"primary__title"},"Payment Due",-1)),e("div",Re,a(l(Q)(((x=s.value)==null?void 0:x.paymentDue)??"")),1)])]),e("div",qe,[e("div",Fe,[t[8]||(t[8]=e("div",{class:"primary__title"},"Bill To",-1)),e("div",Ge,a((B=s.value)==null?void 0:B.clientName),1)]),e("div",Qe,[e("div",null,a((M=s.value)==null?void 0:M.clientAddress.street),1),e("div",null,a((N=s.value)==null?void 0:N.clientAddress.city),1),e("div",null,a((P=s.value)==null?void 0:P.clientAddress.postCode),1),e("div",null,a((E=s.value)==null?void 0:E.clientAddress.country),1)])]),e("div",je,[t[9]||(t[9]=e("div",{class:"primary__title"},"Sent to",-1)),e("div",Le,a((S=s.value)==null?void 0:S.clientEmail),1)])]),e("div",Ye,[e("div",ze,[l(m)?g("",!0):(c(),r("div",He,t[10]||(t[10]=[e("div",{class:"row"},[e("div",{class:"column"},"Item Name"),e("div",{class:"details"},[e("div",null,"QTY."),e("div",null,"Price")]),e("div",{class:"column"},"Total")],-1)]))),e("div",Je,[(c(!0),r(me,null,pe((U=s.value)==null?void 0:U.items,(o,se)=>(c(),r("div",{key:`item${se}`,class:"row"},[e("div",Ke,a(o.name),1),e("div",Oe,[e("div",We,a(o.quantity),1),e("div",Xe,a(l(b)(o.price)),1)]),e("div",Ze,a(l(b)(o.total)),1)]))),128))])]),e("div",es,[t[11]||(t[11]=e("div",{class:"items__price-title"},"Amount Due",-1)),e("div",ss,a(l(b)(((R=s.value)==null?void 0:R.total)??0)),1)])])]),_(oe,{ref_key:"upsertInvoiceRef",ref:f,modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),data:s.value,onEdit:X},null,8,["modelValue","data"]),_(l(z),{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=o=>y.value=o),title:"Confirm Deletion",message:`Are you sure you want to delete invoice #${(q=s.value)==null?void 0:q.id}?This action cannot be undone.`,"confirm-text":"Delete",onConfirm:W},null,8,["modelValue","message"]),_(l(z),{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=o=>h.value=o),title:"Confirm Mask",message:`Are you sure you want to mask the status of invoice #${(F=s.value)==null?void 0:F.id} to paid?`,onConfirm:ee},null,8,["modelValue","message"])])}}}),ls=J(ts,[["__scopeId","data-v-82a8caf7"]]);export{ls as default};
