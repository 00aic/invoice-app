import{d as G,e as se,S as te,f as q,a as h,U as ae,h as le,u as oe}from"./StatusBadge-BUOZJZXE.js";import{d as H,m as j,u as ie,l as ne,p as L,T as Q,c as v,b as Y,h as _,a as e,t as a,q as de,o as r,f as J,r as u,g as re,s as ce,i as n,j as ue,F as _e,e as ve,k as me}from"./index-Bs9Y5-dD.js";import"./api-CLRmphT1.js";const pe={key:0,class:"dialog-mask"},fe={key:0,class:"dialog-container"},ye={class:"dialog__header"},he={class:"dialog__header-title"},be={class:"dialog__body"},ge={class:"dialog__body-msg"},Ce={class:"dialog__footer"},ke=H({__name:"ConfirmationDialog",props:j({title:{default:"Tip"},message:{default:"Are you sure you're ready to do this?"},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:j(["cancel","confirm"],["update:modelValue"]),setup(b,{emit:m}){const d=ie(b,"modelValue"),s=m,p=()=>{d.value=!1,s("cancel")},c=()=>{d.value=!1,s("confirm")};return(o,g)=>(r(),ne(Q,{name:"fade"},{default:L(()=>[d.value?(r(),v("div",pe,[_(Q,{name:"slide-up"},{default:L(()=>[d.value?(r(),v("div",fe,[e("div",ye,[e("div",he,a(o.title),1)]),e("div",be,[de(o.$slots,"default",{},()=>[e("div",ge,a(o.message),1)],!0)]),e("div",Ce,[e("button",{class:"dialog__footer-cancel",onClick:p},a(o.cancelText),1),e("button",{class:"dialog__footer-confirm",onClick:c},a(o.confirmText),1)])])):Y("",!0)]),_:3})])):Y("",!0)]),_:3}))}}),z=J(ke,[["__scopeId","data-v-f7735071"]]),Ie={class:"detail"},De={class:"header"},Ve={class:"header__status"},we={class:"container"},Ae={class:"basic"},Te={class:"basic__info"},$e={class:"basic__info-id"},Be={class:"basic__info-desc"},xe={class:"basic__address"},Ne={class:"primary"},Ee={class:"primary__date"},Me={class:"primary__wrapper"},Pe={class:"primary__content"},Se={class:"primary__wrapper"},Ue={class:"primary__content"},Re={class:"primary__bill"},Fe={class:"primary__wrapper"},Ge={class:"primary__content"},qe={class:"primary__bill-address"},je={class:"primary__wrapper"},Le={class:"primary__content"},Qe={class:"items"},Ye={class:"table"},ze={class:"table__body"},He={class:"items__price"},Je={class:"items__price-total"},Ke=H({__name:"InvoiceDetails",setup(b){const m=me(),d=ce(),s=u(),p=()=>{m.push("/")},c=u(!1),o=u(null),g=()=>{var i;(i=o.value)==null||i.resetForm(),c.value=!0},f=u(!1),K=()=>{f.value=!0},O=async()=>{var i;await le(((i=s.value)==null?void 0:i.id)??""),m.push("/")},W=async i=>{s.value=(await G(i.id??"")).data};re(async()=>{s.value=(await G(d.params.id)).data});const y=u(!1),X=async()=>{y.value=!0},Z=async()=>{s.value&&(s.value.status="paid",await oe(s.value))};return(i,t)=>{var C,k,I,D,V,w,A,T,$,B,x,N,E,M,P,S,U,R,F;return r(),v("div",Ie,[e("div",{class:"back",onClick:p},t[3]||(t[3]=[e("div",null,[e("img",{src:se,alt:"Go back"})],-1),e("div",{class:"back__title"},"Go back",-1)])),e("header",De,[e("div",Ve,[t[4]||(t[4]=e("div",null,"Status",-1)),_(n(te),{status:((C=s.value)==null?void 0:C.status)??"draft"},null,8,["status"])]),e("div",{class:"header__button"},[e("button",{class:"header__button-edit",onClick:g},"Edit"),e("button",{class:"header__button-delete",onClick:K},"Delete"),e("button",{class:"header__button-paid",onClick:X},"Mask as Paid")])]),e("div",we,[e("div",Ae,[e("div",Te,[e("div",$e,[t[5]||(t[5]=e("span",{class:"basic__info-prefix"},"#",-1)),ue(a((k=s.value)==null?void 0:k.id),1)]),e("div",Be,a((I=s.value)==null?void 0:I.description),1)]),e("div",xe,[e("div",null,a((D=s.value)==null?void 0:D.senderAddress.street),1),e("div",null,a((V=s.value)==null?void 0:V.senderAddress.city),1),e("div",null,a((w=s.value)==null?void 0:w.senderAddress.postCode),1),e("div",null,a((A=s.value)==null?void 0:A.senderAddress.country),1)])]),e("div",Ne,[e("div",Ee,[e("div",Me,[t[6]||(t[6]=e("div",{class:"primary__title"},"Invoice Date",-1)),e("div",Pe,a(n(q)(((T=s.value)==null?void 0:T.createdAt)??"")),1)]),e("div",Se,[t[7]||(t[7]=e("div",{class:"primary__title"},"Payment Due",-1)),e("div",Ue,a(n(q)((($=s.value)==null?void 0:$.paymentDue)??"")),1)])]),e("div",Re,[e("div",Fe,[t[8]||(t[8]=e("div",{class:"primary__title"},"Bill To",-1)),e("div",Ge,a((B=s.value)==null?void 0:B.clientName),1)]),e("div",qe,[e("div",null,a((x=s.value)==null?void 0:x.clientAddress.street),1),e("div",null,a((N=s.value)==null?void 0:N.clientAddress.city),1),e("div",null,a((E=s.value)==null?void 0:E.clientAddress.postCode),1),e("div",null,a((M=s.value)==null?void 0:M.clientAddress.country),1)])]),e("div",je,[t[9]||(t[9]=e("div",{class:"primary__title"},"Sent to",-1)),e("div",Le,a((P=s.value)==null?void 0:P.clientEmail),1)])]),e("div",Qe,[e("table",Ye,[t[10]||(t[10]=e("thead",{class:"table__head"},[e("tr",null,[e("th",null,"Item Name"),e("th",null,"QTY."),e("th",null,"Price"),e("th",null,"Total")])],-1)),e("tbody",ze,[(r(!0),v(_e,null,ve((S=s.value)==null?void 0:S.items,(l,ee)=>(r(),v("tr",{key:`item${ee}`},[e("td",null,a(l.name),1),e("td",null,a(l.quantity),1),e("td",null,a(n(h)(l.price)),1),e("td",null,a(n(h)(l.total)),1)]))),128))])]),e("div",He,[t[11]||(t[11]=e("div",{class:"items__price-title"},"Amount Due",-1)),e("div",Je,a(n(h)(((U=s.value)==null?void 0:U.total)??0)),1)])])]),_(ae,{ref_key:"upsertInvoiceRef",ref:o,modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),data:s.value,onEdit:W},null,8,["modelValue","data"]),_(n(z),{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=l=>f.value=l),title:"Confirm Deletion",message:`Are you sure you want to delete invoice #${(R=s.value)==null?void 0:R.id}?This action cannot be undone.`,"confirm-text":"Delete",onConfirm:O},null,8,["modelValue","message"]),_(n(z),{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=l=>y.value=l),title:"Confirm Mask",message:`Are you sure you want to mask the status of invoice #${(F=s.value)==null?void 0:F.id} to paid?`,onConfirm:Z},null,8,["modelValue","message"])])}}}),Ze=J(Ke,[["__scopeId","data-v-190a0804"]]);export{Ze as default};
